<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Winchester Vineyard ADMIN</title>
    <link href="favicon.ico" rel="icon" type="image/x-icon"/>
    <link href="css/bootstrap.css" rel="stylesheet"/>
    <link href="css/style.css" rel="stylesheet"/>
    <link href="css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//winvin-style-guide.herokuapp.com/css/style.css" rel="stylesheet"/>
  </head>

  <body>
    <script type='text/x-handlebars'>
      <div class='container'>
        <h1>vineyard admin area</h1>
        <nav class='navbar navbar-default'>
          <ul class='nav navbar-nav' style='margin-bottom: 0px'>
            {{#link-to "news" tagName="li" href=false}}<a {{bindAttr href="view.href"}}>news</a>{{/link-to}}
            {{#link-to "talks" tagName="li" href=false}}<a {{bindAttr href="view.href"}}>talks</a>{{/link-to}}
            {{#link-to "login" tagName="li" href=false}}<a {{bindAttr href="view.href"}}>account</a>{{/link-to}}
          </ul>
        </nav>
        {{ outlet }}
      </div>
    </script>

    <script type="text/x-handlebars" id="login">
      <form class="form-inline" {{action login on="submit"}}>
        <h2>log in</h2>
        {{input value=email type="text" placeholder="E-mail"}}
        {{input value=password type="password" placeholder="Password"}}
        {{input class="btn btn-default" type="submit" value="Log In"}}
      </form>
      <button {{action 'logout'}} class='btn btn-default' type='button'>Logout</button>
    </script>

    <script type='text/x-handlebars' id='news'>
      <div class='row'>
        <div class='col-md-3'>
          <h3>news</h3>
          <button {{action 'new'}} class='btn btn-default' type='button'>
            Add a new story
          </button>
          <br/>
          <br/>
          <ul class='list-group'>
            {{#each}}
            <li class='list-group-item clearfix'>
              {{ title }}
              {{#if published}}
                (Published)
              {{/if}}
              <br/>
              {{#if datetime }}
              <span class='text-muted'>{{ format-date datetime }}</span>
              {{/if}}
              <br/>
              <br/>
              {{#link-to "news-item" this class='btn btn-default'}}
              Edit
              {{/link-to}}
              <button {{action 'remove' this}} class='btn btn-default' type='button'>
                Delete
              </button>
            </li>
            {{/each}}
          </ul>
        </div>
        <div class='col-md-8'>
          {{ outlet }}
        </div>
      </div>
    </script>

    <script type='text/x-handlebars' id='form/_published'>
      <div class="checkbox">
        {{input type="checkbox" id="published" checked=published}} Published?
      </div>
    </script>

    <script type='text/x-handlebars' id='news-item'>
      <form role="form">
        {{partial "form/published"}}
        <div class="form-group">
          <label for="title">Title</label>
          {{input type="text" class="form-control" id="title" placeholder="Enter title" value=title}}
        </div>
        <div class="form-group">
          <label for="text">Text</label>
          {{input type="text" class="form-control" id="text" placeholder="Enter brief text description" value=text}}
        </div>
        <div class="form-group">
          <label for="image_url">Image URL</label>
          {{input type="text" class="form-control" id="image_url" placeholder="Link to an S3 image" value=image_url}}
        </div>
        <div class="form-group">
          <label for="datetime">Date of event</label>
          {{input type="text" class="form-control" id="datetime" placeholder="Enter date (eg 2013-04-04 17:00)" value=datetime}}
        </div>
        <div class="form-group">
          <label for="location_title">Location</label>
          {{input type="text" class="form-control" id="location_title" placeholder="Location (eg 'Vineyard Centre')" value=location_title}}
        </div>
        <div class="form-group">
          <label for="location_url">Location link for directions</label>
          {{input type="text" class="form-control" id="location_url" placeholder="(optional)" value=location_url}}
        </div>
        <div class="form-group">
          <label for="booking_url">Booking link</label>
          {{input type="text" class="form-control" id="booking_url" placeholder="(optional)" value=booking_url}}
        </div>
      </form>
    </script>

    <script type='text/x-handlebars' id='talks'>
      <div class='row'>
        <div class='col-md-3'>
          <h3>talks</h3>
          <button {{action 'new'}} class='btn btn-default' type='button'>
            Add a new talk
          </button>
          <br/>
          <br/>
          <ul class='list-group'>
            {{#each}}
            <li class='list-group-item clearfix'>
              {{ title }}
              {{#if published}}
              (Published)
              {{/if}}
              <br/>
              {{#if datetime }}
              <span class='text-muted'>{{ format-date datetime }}</span>
              {{/if}}
              <br/>
              <br/>
              {{#link-to "talk" this class='btn btn-default'}}
              Edit
              {{/link-to}}
              <button {{action 'remove' this}} class='btn btn-default' type='button'>
                Delete
              </button>
            </li>
            {{/each}}
          </ul>
        </div>
        <div class='col-md-8'>
          {{ outlet }}
        </div>
      </div>
    </script>

    <script type='text/x-handlebars' id='talk'>
      <form role="form">
        {{partial "form/published"}}
        <div class="form-group">
          <label for="title">Title</label>
          {{input type="text" class="form-control" id="title" placeholder="Enter title" value=title}}
        </div>
        <div class="form-group">
          <label for="who">Who</label>
          {{input type="text" class="form-control" id="who" placeholder="" value=who}}
        </div>
        <div class="form-group">
          <label for="download_url">Download URL</label>
          {{input type="text" class="form-control" id="download_url" placeholder="Link to an S3 url" value=download_url}}
        </div>
        <div class="form-group">
          <label for="datetime">Date of talk</label>
          {{input type="text" class="form-control" id="datetime" placeholder="Enter date (eg 2013-04-04 17:00)" value=datetime}}
        </div>
        <div class="form-group">
          <label for="slides_url">URL for slides</label>
          {{input type="text" class="form-control" id="slides_url" placeholder="(optional)" value=slides_url}}
        </div>
      </form>
    </script>

    <script src="js/jquery.js" type='text/javascript'></script>
    <script src="js/handlebars-v1.3.0.js"></script>
    <script src="js/ember.js"></script>
    <script src="//cdn.firebase.com/v0/firebase.js" type='text/javascript'></script>
    <script src='https://cdn.firebase.com/v0/firebase-simple-login.js' type='text/javascript'></script>
    <script src="js/emberfire-latest.js"></script>
    <script src="js/bootstrap.min.js" type='text/javascript'></script>
    <script src="js/strftime.min.js" type='text/javascript'></script>
    <script src="js/app.js" type='text/javascript'></script>
  </body>
</html>
