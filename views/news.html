<h1>News items</h1><div ng-show="errorMessage"><div class="alert alert-danger"><button type="button" class="close" ng-click="errorMessage = null" aria-hidden="true">&times;</button> <span>{{errorMessage}}</span></div></div><button class="btn btn-default" ng-hide="editing" ng-click="newItem()">New item</button><div ng-show="editing"><form role="form"><div class="form-group"><label for="subjectTitle">Title</label><input type="text" id="subjectTitle" class="form-control" ng-model="news[id].title"></div><div class="form-group"><label for="subjectText">Text</label><textarea rows="5" id="subjectText" class="form-control" ng-model="news[id].text">
      </textarea></div><div class="form-group"><label for="subjectImageURL">Image URL</label><input type="text" id="subjectImageURL" class="form-control" ng-model="news[id].image_url"></div><div class="form-group"><label for="subjectDatetime">Start date and time of event</label><input type="text" id="subjectDatetime" class="form-control" ng-model="news[id].datetime"><datetimepicker data-ng-model="news[id].datetime"></datetimepicker></div><div class="form-group"><label for="subjectDatetime">End date and time of event</label><input type="text" id="subjectDatetime" class="form-control" ng-model="news[id].enddatetime"><datetimepicker data-ng-model="news[id].enddatetime"></datetimepicker></div><div class="form-group"><label for="subjectLocation">Location</label><input type="text" id="subjectLocation" class="form-control" ng-model="news[id].location_title"></div><div class="form-group"><label for="subjectLocationURL">Location URL</label><input type="text" id="subjectLocationURL" class="form-control" ng-model="news[id].location_url"></div><div class="form-group"><label for="subjectBookingURL">Booking URL</label><input type="text" id="subjectBookingURL" class="form-control" ng-model="news[id].booking_url"></div><button class="btn btn-default" ng-click="doneEditing()">Close</button></form></div><table class="table"><thead><th>Title<th>Text<th>Date<th colspan="10"><tr ng-repeat="item in news | orderByPriority"><td width="250">{{item.title}}<td>{{item.text}}<td>{{item.datetime | date:'medium'}}<span ng-show="item.enddatetime">- {{ item.enddatetime | date:'medium' }}</span><td width="50px"><button class="btn btn-info" ng-click="unpublish(item)" ng-show="item.published">Published</button> <button class="btn btn-danger" ng-click="publish(item)" ng-hide="item.published" ng-disabled="editingThis(item)">Not published</button><td width="50px"><button class="btn btn-default" ng-hide="item.published || editingThis(item)" ng-click="edit(item.id)">Edit</button> <button class="btn btn-default" ng-show="editingThis(item)" ng-click="doneEditing()">Done</button><td width="50px"><button class="btn btn-default" ng-hide="item.published || editingThis(item)" ng-click="delete(item.id)">Delete</button></table>